---
title: "Our Team"
nav_order: 2
layout: page
---
{%- assign cloudinaryDefaults = "f_auto,q_auto:good,g_faces,c_fill,w_315,h_328" -%}
{%- assign defaultPersonImg = "/assets/media/personnel_imgs/images.jpg" -%}

{% comment %}Pull personnel data from the MDX content-include file{% endcomment %}
{%- assign personnelData = nil -%}
{%- assign bodyContent = nil -%}
{% for item in collections.contentIncludes %}
  {% if item.data.contentFor == "our-team" %}
    {%- assign personnelData = item.data.personnel -%}
    {%- assign bodyContent = item.content -%}
  {% endif %}
{% endfor %}

{% if bodyContent %}
<div class="lead">{{ bodyContent }}</div>
{% endif %}

{% if personnelData %}
{%- assign staffOnly = personnelData | pluckByValue: 'staff', 'staff_type' -%}
{%- assign volunteersOnly = personnelData | pluckByValue: 'volunteer', 'staff_type' -%}

<section class="personnel-section">
  <h2>Staff</h2>
  <div class="l-grid l-grid--personnel">
    {% for person in staffOnly %}
      {%- if person.photo -%}
        {%- assign imgSrc = person.photo -%}
      {%- else -%}
        {%- assign imgSrc = defaultPersonImg -%}
      {%- endif -%}
      <div class="person">
        <div class="person__img">
          <img src="{% imgPath imgSrc, cloudinaryDefaults %}" alt="{{ person.first_name }} {{ person.last_name }}" width="157.5" height="164">
        </div>
        <h3>{{ person.first_name }} {{ person.last_name }}</h3>
        {% if person.rank or person.title %}<h4>
          {% if person.rank %}{{ person.rank }}{% endif %}
          {% if person.rank and person.title %} - {% endif %}
          {% if person.title %}{{ person.title }}{% endif %}
        </h4>
        {% endif %}
        <ul>
          {%- assign sortedRoles = person.roles | sort -%}
          {% for role in sortedRoles %}
            <li>{{ role }}</li>
          {% endfor %}
        </ul>
      </div>
    {% endfor %}
  </div>
</section>

<section class="personnel-section">
  <h2>Volunteers</h2>
  <div class="l-grid l-grid--personnel">
    {% for person in volunteersOnly %}
      {%- if person.photo -%}
        {%- assign imgSrc = person.photo -%}
      {%- else -%}
        {%- assign imgSrc = defaultPersonImg -%}
      {%- endif -%}
      <div class="person">
        <div class="person__img">
          <img src="{% imgPath imgSrc, cloudinaryDefaults %}" alt="Headshot of {{ person.first_name }} {{ person.last_name }}" width="157.5" height="164">
        </div>
        <h3>{{ person.first_name }} {{ person.last_name }}</h3>
        {% if person.rank or person.title %}<h4>
          {% if person.rank %}{{ person.rank }}{% endif %}
          {% if person.rank and person.title %} - {% endif %}
          {% if person.title %}{{ person.title }}{% endif %}
        </h4>
        {% endif %}
        <ul>
          {%- assign sortedRoles = person.roles | sort -%}
          {% for role in sortedRoles %}
            <li>{{ role }}</li>
          {% endfor %}
        </ul>
      </div>
    {% endfor %}
  </div>
</section>
{% else %}
<section class="personnel-section">
  <p><em>Personnel data is not available in this environment. Run <code>npm run sync-personnel</code> to generate personnel data, or this data will be generated automatically during the production build.</em></p>
</section>
{% endif %}
